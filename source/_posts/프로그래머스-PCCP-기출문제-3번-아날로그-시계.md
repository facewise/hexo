---
title: 프로그래머스 PCCP 기출문제 3번 - 아날로그 시계
date: 2024-01-23 17:33:57
tags:
---

# 문제

- 링크
https://school.programmers.co.kr/learn/courses/30/lessons/250135

시침, 분침, 초침이 있는 아날로그시계가 있습니다. 시계의 시침은 12시간마다, 분침은 60분마다, 초침은 60초마다 시계를 한 바퀴 돕니다. 따라서 시침, 분침, 초침이 움직이는 속도는 일정하며 각각 다릅니다. 이 시계에는 초침이 시침/분침과 겹칠 때마다 알람이 울리는 기능이 있습니다. 당신은 특정 시간 동안 알람이 울린 횟수를 알고 싶습니다.

다음은 0시 5분 30초부터 0시 7분 0초까지 알람이 울린 횟수를 세는 예시입니다.

{% asset_img image.png %}

가장 짧은 바늘이 시침, 중간 길이인 바늘이 분침, 가장 긴 바늘이 초침입니다.
알람이 울리는 횟수를 세기 시작한 시각은 0시 5분 30초입니다.
이후 0시 6분 0초까지 초침과 시침/분침이 겹치는 일은 없습니다.

{% asset_img image-1.png %}

약 0시 6분 0.501초에 초침과 시침이 겹칩니다. 이때 알람이 한 번 울립니다.
이후 0시 6분 6초까지 초침과 시침/분침이 겹치는 일은 없습니다.

{% asset_img image-2.png %}

약 0시 6분 6.102초에 초침과 분침이 겹칩니다. 이때 알람이 한 번 울립니다.
이후 0시 7분 0초까지 초침과 시침/분침이 겹치는 일은 없습니다.
0시 5분 30초부터 0시 7분 0초까지는 알람이 두 번 울립니다. 이후 약 0시 7분 0.584초에 초침과 시침이 겹쳐서 울리는 세 번째 알람은 횟수에 포함되지 않습니다.

<br>

# 초기 접근 방법과 시행착오

처음에는 초기 시침, 분침, 초침의 각도를 설정하고 초를 1초씩 증가하면서 변경되는 초침의 각도와 분침의 각도, 시침의 각도를 비교해서

`현재 초침의 각도 ≤ 현재 분침의 각도 ≤ 1초 뒤 분침의 각도 ≤ 1초 뒤 시침의 각도`

를 만족하면 케이스를 하나 증가시키는 방법으로 접근했다.

그래서
```java
public int solution(int h1, int m1, int s1, int h2, int m2, int s2) {
    // 원래 각도에 120을 곱하자
    int hourDegree = h1 % 12 * 30 * 120 + m1 * 60 + s1;

    int minDegree = m1 * 6 * 120 + s1 * 12;

    int secDegree = s1 * 6 * 120;

    int answer = 0;

    while (true) {
        // 초침과 분침 비교
        if (secDegree <= minDegree && minDegree + 12 <= secDegree + 720) {
            answer++;
        }

        // 초침과 시침 비교
        if (secDegree <= hourDegree && hourDegree + 1 <= secDegree + 720) {
            answer++;
        }

        // 초침 분침 시침이 다 겹치면 중복 케이스이므로 1 빼줌
        if (secDegree == minDegree && minDegree == hourDegree || secDegree + 720 == minDegree + 12 && minDegree + 12 == hourDegree + 1) {
            answer--;
        }

        // 1초 증가
        s1++;

        if (s1 == 60) {
            s1 = 0;
            m1++;
        }
        if (m1 == 60) {
            m1 = 0;
            h1++;
        }
        if (h1 == h2 && m1 == m2 && s1 == s2)
            break;
        secDegree = s1 * 6 * 120;
        minDegree = m1 * 6 * 120 + s1 * 12;
        hourDegree = h1 % 12 * 30 * 120 + m1 * 60 + s1;
    }

    return answer;
}
```


이렇게 접근했더니 0시 0분 0초부터 23시 59분 59초까지, 즉 하루종일 시계가 돌아갈 때 답이 계속 맞지 않았다.

정확히 말하면 내가 구한 답이 정답보다 컸다.

그렇다는 것은 시침, 분침, 초침이 전부 다 겹치는 경우가 초와 초 사이에도 빈번히 일어난다는 뜻이다.

> 예를 들면, 23.453초에 시침, 분침, 초침이 전부 겹친다는 것

정답이 되는 케이스를 구하는 로직을 수정해야 했다.

<br>

# 문제 해결
